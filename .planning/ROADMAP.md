# Roadmap: GSD Plugin Performance & Quality Improvement

## Milestones

- âœ… **v1.0 Performance & Quality** â€” Phases 1-5 (shipped 2026-02-22)
- âœ… **v1.1 Context Reduction & Tech Debt** â€” Phases 6-9 (shipped 2026-02-22)
- âœ… **v2.0 Quality & Intelligence** â€” Phases 10-13 (shipped 2026-02-24)
- âœ… **v3.0 Intent Engineering** â€” Phases 14-17 (shipped 2026-02-25)
- âœ… **v4.0 Environment & Execution Intelligence** â€” Phases 18-22 (shipped 2026-02-25)
- âœ… **v5.0 Codebase Intelligence** â€” Phases 23-29 (shipped 2026-02-26)
- âœ… **v6.0 UX & Developer Experience** â€” Phases 30-36 (shipped 2026-02-27)
- âœ… **v7.0 Agent Orchestration & Efficiency** â€” Phases 37-44 (shipped 2026-02-27)
- ðŸš§ **v7.1 Trajectory Engineering** â€” Phases 45-50 (in progress)

## Phases

<details>
<summary>âœ… v1.0 Performance & Quality (Phases 1-5) â€” SHIPPED 2026-02-22</summary>

- [x] Phase 1: Foundation & Safety Nets (4/4 plans) â€” completed 2026-02-22
- [x] Phase 2: Error Handling & Hardening (2/2 plans) â€” completed 2026-02-22
- [x] Phase 3: Developer Experience & Discoverability (3/3 plans) â€” completed 2026-02-22
- [x] Phase 4: Build System & Module Split (3/3 plans) â€” completed 2026-02-22
- [x] Phase 5: Performance & Polish (2/2 plans) â€” completed 2026-02-22

Full details: `.planning/milestones/v1.0-ROADMAP.md`

</details>

<details>
<summary>âœ… v1.1 Context Reduction & Tech Debt (Phases 6-9) â€” SHIPPED 2026-02-22</summary>

- [x] Phase 6: Token Measurement & Output Infrastructure (3/3 plans) â€” completed 2026-02-22
- [x] Phase 7: Init Command Compaction (3/3 plans) â€” completed 2026-02-22
- [x] Phase 8: Workflow & Reference Compression (3/3 plans) â€” completed 2026-02-22
- [x] Phase 9: Tech Debt Cleanup (1/1 plans) â€” completed 2026-02-22

Full details: `.planning/milestones/v1.1-ROADMAP.md`

</details>

<details>
<summary>âœ… v2.0 Quality & Intelligence (Phases 10-13) â€” SHIPPED 2026-02-24</summary>

- [x] Phase 10: State Intelligence (2/2 plans) â€” completed 2026-02-22
- [x] Phase 11: Session Continuity (3/3 plans) â€” completed 2026-02-24
- [x] Phase 12: Quality Gates (4/4 plans) â€” completed 2026-02-24
- [x] Phase 13: Test Infrastructure & Polish (4/4 plans) â€” completed 2026-02-24

Full details: `.planning/milestones/v2.0-ROADMAP.md`

</details>

<details>
<summary>âœ… v3.0 Intent Engineering (Phases 14-17) â€” SHIPPED 2026-02-25</summary>

- [x] Phase 14: Intent Capture Foundation (3/3 plans) â€” completed 2026-02-25
- [x] Phase 15: Intent Tracing & Validation (2/2 plans) â€” completed 2026-02-25
- [x] Phase 16: Workflow Integration & Self-Application (3/3 plans) â€” completed 2026-02-25
- [x] Phase 17: Intent Enhancement (2/2 plans) â€” completed 2026-02-25

Full details: `.planning/milestones/v3.0-ROADMAP.md`

</details>

<details>
<summary>âœ… v4.0 Environment & Execution Intelligence (Phases 18-22) â€” SHIPPED 2026-02-25</summary>

- [x] Phase 18: Environment Awareness (3/3 plans) â€” completed 2026-02-25
- [x] Phase 19: MCP Server Profiling (3/3 plans) â€” completed 2026-02-25
- [x] Phase 20: Structured Requirements (3/3 plans) â€” completed 2026-02-25
- [x] Phase 21: Worktree Parallelism (3/3 plans) â€” completed 2026-02-25
- [x] Phase 22: Workflow Polish (1/1 plans) â€” completed 2026-02-25

Full details: `.planning/milestones/v4.0-ROADMAP.md`

</details>

<details>
<summary>âœ… v5.0 Codebase Intelligence (Phases 23-29) â€” SHIPPED 2026-02-26</summary>

- [x] Phase 23: Infrastructure & Storage (2/2 plans) â€” completed 2026-02-26
- [x] Phase 24: Convention Extraction (2/2 plans) â€” completed 2026-02-26
- [x] Phase 25: Dependency Graph (2/2 plans) â€” completed 2026-02-26
- [x] Phase 26: Init Integration & Context Summary (2/2 plans) â€” completed 2026-02-26
- [x] Phase 27: Task-Scoped Context (2/2 plans) â€” completed 2026-02-26
- [x] Phase 28: Lifecycle Analysis (2/2 plans) â€” completed 2026-02-26
- [x] Phase 29: Workflow Integration (2/2 plans) â€” completed 2026-02-26

Full details: `.planning/milestones/v5.0-ROADMAP.md`

</details>

<details>
<summary>âœ… v6.0 UX & Developer Experience (Phases 30-36) â€” SHIPPED 2026-02-27</summary>

- [x] Phase 30: Formatting Foundation & Smart Output (2/2 plans) â€” completed 2026-02-26
- [x] Phase 31: Quality Gates & Format Testing (2/2 plans) â€” completed 2026-02-27
- [x] Phase 32: Init & State Command Renderers (1/1 plans) â€” completed 2026-02-27
- [x] Phase 33: Verify & Codebase Command Renderers (1/1 plans) â€” completed 2026-02-27
- [x] Phase 34: Feature & Intent Command Renderers (1/1 plans) â€” completed 2026-02-27
- [x] Phase 35: Workflow Output Tightening (2/2 plans) â€” completed 2026-02-27
- [x] Phase 36: Integration & Polish (2/2 plans) â€” completed 2026-02-27

Full details: `.planning/milestones/v6.0-ROADMAP.md`

</details>

<details>
<summary>âœ… v7.0 Agent Orchestration & Efficiency (Phases 37-44) â€” SHIPPED 2026-02-27</summary>

- [x] Phase 37: Foundation & Safety Net (2/2 plans) â€” completed 2026-02-27
- [x] Phase 38: AST Intelligence & Repo Map (2/2 plans) â€” completed 2026-02-27
- [x] Phase 39: Orchestration Intelligence (1/1 plans) â€” completed 2026-02-27
- [x] Phase 40: Context Efficiency (2/2 plans) â€” completed 2026-02-27
- [x] Phase 41: Agent Quality Gates (2/2 plans) â€” completed 2026-02-27
- [x] Phase 42: Integration & Validation (3/3 plans) â€” completed 2026-02-27
- [x] Phase 43: TDD Execution Engine (2/2 plans) â€” completed 2026-02-27
- [x] Phase 44: Review Gate Hardening (1/1 plans) â€” completed 2026-02-27

Full details: `.planning/milestones/v7.0-ROADMAP.md`

</details>

### ðŸš§ v7.1 Trajectory Engineering (In Progress)

**Milestone Goal:** Structured exploration system â€” checkpoint, pivot, compare, and choose between multiple approaches at any workflow level, with a decision journal consumable by both agents and humans.

- [ ] **Phase 45: Foundation â€” Decision Journal & State Coherence** - Sacred trajectory store and selective checkout pattern for `.planning/` preservation
- [ ] **Phase 46: Checkpoint â€” Snapshot & Metrics Collection** - Named checkpoints with git state capture and auto-metrics
- [ ] **Phase 47: Pivot â€” Selective Rewind & Attempt Archival** - Abandon approach with recorded reasoning, rewind to checkpoint safely
- [ ] **Phase 48: Compare â€” Multi-Attempt Metrics Aggregation** - Outcome metrics comparison across attempts with signal detection
- [ ] **Phase 49: Choose â€” Merge Winner & Cleanup** - Select winning attempt, archive alternatives, clean up branches
- [ ] **Phase 50: Integration â€” Agent Context & Dead-End Detection** - Journal-driven context injection and stuck-to-pivot wiring

## Phase Details

### Phase 45: Foundation â€” Decision Journal & State Coherence
**Goal**: Trajectory data has a persistent, session-portable home and code rewinds never corrupt planning state
**Depends on**: Nothing (first phase of v7.1)
**Requirements**: FOUND-01, FOUND-02
**Success Criteria** (what must be TRUE):
  1. `memory write --store trajectories` and `memory read --store trajectories` work â€” journal entries persist in `.planning/memory/trajectory.json`
  2. Journal entries survive session boundaries â€” data written in one session is fully readable in the next with no auto-compaction
  3. Selective `git checkout <ref> -- src/ test/ bin/` rewinds source code while `.planning/` files remain untouched (round-trip test passes)
  4. Trajectory branch namespace (`gsd/trajectory/`) is distinct from worktree namespace (`worktree-*`) with no cross-system collisions
**Plans**: 1/2 plans executed

### Phase 46: Checkpoint â€” Snapshot & Metrics Collection
**Goal**: Users can name and save points in their exploration with automatic metrics capture
**Depends on**: Phase 45
**Requirements**: CHKPT-01, CHKPT-02, CHKPT-03, CHKPT-04
**Success Criteria** (what must be TRUE):
  1. User can run `trajectory checkpoint <name>` and a git branch is created at `trajectory/<scope>/<name>/attempt-N` with a journal entry recording the snapshot
  2. User can run `trajectory list` and see all checkpoints with name, scope, timestamp, git ref, and metrics summary
  3. Checkpoint creation auto-collects test count, cyclomatic complexity, and LOC delta â€” metrics are stored in the journal entry without user intervention
  4. Checkpoint branches follow the `trajectory/<scope>/<name>/attempt-N` naming convention consistently
**Plans**: TBD

### Phase 47: Pivot â€” Selective Rewind & Attempt Archival
**Goal**: Users can abandon a failing approach with full reasoning capture and safely rewind to a prior checkpoint
**Depends on**: Phase 46
**Requirements**: PIVOT-01, PIVOT-02, PIVOT-03, PIVOT-04
**Success Criteria** (what must be TRUE):
  1. User can run `trajectory pivot <checkpoint>` and source code rewinds to the checkpoint state while `.planning/` directory is fully preserved
  2. Pivot refuses to run on a dirty working tree (uncommitted changes) â€” clear error message with guidance
  3. Pivot requires a structured reason (what failed, why, what signals) and the reason is persisted in the journal as an "abandoned" entry
  4. Current work is auto-checkpointed as an "abandoned" attempt before rewind â€” no work is ever lost silently
  5. Stuck-detector integration: when stuck detection fires (3 failures), it suggests pivoting to the last checkpoint
**Plans**: TBD

### Phase 48: Compare â€” Multi-Attempt Metrics Aggregation
**Goal**: Users can see data-driven comparison of all attempts to make informed exploration decisions
**Depends on**: Phase 47
**Requirements**: COMP-01, COMP-02, COMP-03, COMP-04, COMP-05
**Success Criteria** (what must be TRUE):
  1. User can run `trajectory compare` and see test results (pass/fail/skip) for each attempt side-by-side
  2. Compare shows LOC delta (lines added/removed) and cyclomatic complexity per attempt
  3. Compare produces an aggregated matrix identifying the best attempt per metric (most tests passing, lowest complexity, smallest LOC delta)
  4. TTY output renders as a color-coded table (green=best, red=worst per metric) with automatic JSON fallback when piped
**Plans**: TBD

### Phase 49: Choose â€” Merge Winner & Cleanup
**Goal**: Users can select the winning approach, merge it back, and have all exploration artifacts cleanly archived
**Depends on**: Phase 48
**Requirements**: CHOOSE-01, CHOOSE-02, CHOOSE-03
**Success Criteria** (what must be TRUE):
  1. User can run `trajectory choose <attempt-N>` and the winning attempt's code is merged back to the base branch
  2. Non-chosen attempts are preserved as archived tags (`archived/trajectory/<scope>/<name>/attempt-N`) for future reference
  3. Trajectory working branches are deleted after archival â€” `git branch` output is not polluted with stale trajectory branches
  4. Journal records the final choice with rationale, completing the trajectory lifecycle
**Plans**: TBD

### Phase 50: Integration â€” Agent Context & Dead-End Detection
**Goal**: Agents automatically learn from past exploration failures and never re-explore known dead ends
**Depends on**: Phase 49
**Requirements**: INTEG-01, INTEG-02, INTEG-03, INTEG-04
**Success Criteria** (what must be TRUE):
  1. Before starting new work, dead-end detection queries the trajectory journal for similar past approaches and surfaces warnings if matches are found
  2. Init execute-phase and execute-plan commands include a "previous attempts" section (capped at ~500 tokens) drawn from the trajectory journal
  3. Failed attempt lessons are formatted as "what NOT to do" context â€” agents receive specific signals about why prior approaches failed
  4. All trajectory commands accept a `--scope` parameter supporting task, plan, and phase levels
**Plans**: TBD

## Progress

| Phase | Milestone | Plans | Status | Completed |
|-------|-----------|-------|--------|-----------|
| 1-5 | v1.0 | 14/14 | Complete | 2026-02-22 |
| 6-9 | v1.1 | 10/10 | Complete | 2026-02-22 |
| 10-13 | v2.0 | 13/13 | Complete | 2026-02-24 |
| 14-17 | v3.0 | 10/10 | Complete | 2026-02-25 |
| 18-22 | v4.0 | 13/13 | Complete | 2026-02-25 |
| 23-29 | v5.0 | 14/14 | Complete | 2026-02-26 |
| 30-36 | v6.0 | 11/11 | Complete | 2026-02-27 |
| 37-44 | v7.0 | 15/15 | Complete | 2026-02-27 |
| 45. Foundation | 1/2 | In Progress|  | - |
| 46. Checkpoint | v7.1 | 0/TBD | Not started | - |
| 47. Pivot | v7.1 | 0/TBD | Not started | - |
| 48. Compare | v7.1 | 0/TBD | Not started | - |
| 49. Choose | v7.1 | 0/TBD | Not started | - |
| 50. Integration | v7.1 | 0/TBD | Not started | - |
