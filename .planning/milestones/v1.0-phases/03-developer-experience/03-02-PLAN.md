---
phase: 03-developer-experience
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [workflows/execute-phase.md]
autonomous: true
requirements: [DX-02, DX-04]

must_haves:
  truths:
    - "All 11 previously-unwired commands are callable as /gsd-* slash commands"
    - "Execute-phase workflow shows wave/dependency structure before executing"
  artifacts:
    - path: "workflows/execute-phase.md"
      provides: "ASCII wave visualization in execute-phase workflow"
      contains: "Wave"
  key_links:
    - from: "slash command files"
      to: "gsd-tools.cjs commands"
      via: "node gsd-tools.cjs <command> invocation in command markdown"
      pattern: "gsd-tools\\.cjs"
---

<objective>
Create 11 slash command files for unwired CLI commands and add parallel execution visualization to the execute-phase workflow.

Purpose: 11 feature commands (session-diff, context-budget, test-run, etc.) exist in gsd-tools.cjs but have no slash command wrappers â€” they're invisible to users. The parallel execution visualization helps users understand which plans can run simultaneously.

Output: 11 slash command markdown files in the workflows directory (to be deployed to command directory), updated execute-phase.md with wave visualization.
</objective>

<execution_context>
@/home/cam/.config/opencode/get-shit-done/workflows/execute-plan.md
@/home/cam/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/STRUCTURE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create 11 slash command markdown files</name>
  <files>workflows/cmd-session-diff.md, workflows/cmd-context-budget.md, workflows/cmd-test-run.md, workflows/cmd-search-decisions.md, workflows/cmd-validate-deps.md, workflows/cmd-search-lessons.md, workflows/cmd-codebase-impact.md, workflows/cmd-rollback-info.md, workflows/cmd-velocity.md, workflows/cmd-trace-requirement.md, workflows/cmd-validate-config.md</files>
  <action>
Create 11 slash command wrapper files in the `workflows/` directory. Each file is a simple markdown workflow that invokes the corresponding gsd-tools.cjs command. These files will be deployed to `~/.config/opencode/command/` by deploy.sh (they follow the same pattern as existing commands).

Each command file should follow this pattern:

```markdown
# /gsd-{command-name}

Run the `{command}` command from gsd-tools.

<process>
<step name="run">
Run the command and display results:

\`\`\`bash
RESULT=$(node ~/.config/opencode/get-shit-done/bin/gsd-tools.cjs {command} {args_pattern} --raw 2>/dev/null)
\`\`\`

Display the output in a readable format.
</step>
</process>
```

Create these 11 files:

1. **cmd-session-diff.md** â€” `/gsd-session-diff` â€” Shows git commits since last activity
2. **cmd-context-budget.md** â€” `/gsd-context-budget <plan-path>` â€” Estimates token usage for a plan
3. **cmd-test-run.md** â€” `/gsd-test-run` â€” Parses test output with pass/fail gating
4. **cmd-search-decisions.md** â€” `/gsd-search-decisions <query>` â€” Searches STATE.md + archives for decisions
5. **cmd-validate-deps.md** â€” `/gsd-validate-deps <phase>` â€” Validates phase dependency graph
6. **cmd-search-lessons.md** â€” `/gsd-search-lessons <query>` â€” Searches completed phase lessons
7. **cmd-codebase-impact.md** â€” `/gsd-codebase-impact <files...>` â€” Shows module dependencies
8. **cmd-rollback-info.md** â€” `/gsd-rollback-info <plan-id>` â€” Shows commits + revert command
9. **cmd-velocity.md** â€” `/gsd-velocity` â€” Plans/day + completion forecast
10. **cmd-trace-requirement.md** â€” `/gsd-trace-requirement <req-id>` â€” Full requirement-to-file trace
11. **cmd-validate-config.md** â€” `/gsd-validate-config` â€” Config schema validation

Each should accept appropriate arguments (using `$ARGUMENTS` or `$1` patterns from the command system) and display results in a human-readable format with appropriate formatting.
  </action>
  <verify>
Run: `ls workflows/cmd-*.md | wc -l` â€” should be 11.
Run: `grep -l 'gsd-tools.cjs' workflows/cmd-*.md | wc -l` â€” all 11 should reference gsd-tools.cjs.
  </verify>
  <done>11 slash command files exist in workflows/ directory, each wrapping a gsd-tools.cjs command with appropriate argument handling.</done>
</task>

<task type="auto">
  <name>Task 2: Add parallel execution visualization to execute-phase workflow</name>
  <files>workflows/execute-phase.md</files>
  <action>
In `workflows/execute-phase.md`, add a visualization step AFTER the plans are discovered and waves are computed, but BEFORE execution begins.

Find the section where plans are grouped into waves (look for wave computation logic). Add a step that displays an ASCII wave diagram:

```
ðŸ“Š Execution Plan:

Wave 1 (parallel): â”Œâ”€ 03-01-PLAN.md (--help + config migrate)
                    â””â”€ 03-02-PLAN.md (slash commands + visualization)
Wave 2 (sequential): â”€â”€ 03-03-PLAN.md (workflow integrations)

Dependencies:
  03-03 depends on: 03-01, 03-02
```

The visualization should:
1. Read plan frontmatter to get wave numbers and depends_on
2. Group plans by wave
3. Show parallel plans in the same wave with branching lines (â”Œâ”€ â”œâ”€ â””â”€)
4. Show sequential dependencies with arrows
5. Display before asking user to proceed (in interactive mode) or before launching executors (in yolo mode)

This is a presentation enhancement â€” it reads data that's already computed, not new computation.
  </action>
  <verify>
Read the modified workflow and verify the visualization step exists with ASCII formatting.
  </verify>
  <done>Execute-phase workflow shows a visual wave diagram before executing plans, making parallel opportunities clear to users.</done>
</task>

</tasks>

<verification>
1. 11 cmd-*.md files exist in workflows/
2. execute-phase.md has visualization step with ASCII wave formatting
3. All cmd files reference the correct gsd-tools.cjs command
</verification>

<success_criteria>
- 11 slash command files created for all unwired commands
- Execute-phase workflow displays wave/dependency visualization
- All files follow existing workflow conventions
</success_criteria>

<output>
After completion, create `.planning/phases/03-developer-experience/03-02-SUMMARY.md`
</output>
